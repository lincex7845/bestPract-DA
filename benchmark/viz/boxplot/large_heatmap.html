<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
    <style>
        .svg-container {
            width: 100%;
        }
    </style>
</head>

<body>
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <pre>
      Description:
      * Test heatmap: group by state, stars and average review_count
  </pre>
    <div id="vis1"></div>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-array.v1.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script type="text/javascript">
        function setLayout(dataHeatmap, dataHistogram) {
            var layout_heatmap = {
                yaxis: {
                    title: 'response time (sec)',
                    zeroline: false
                },
                boxmode: 'group'
            };
            Plotly.newPlot('vis1', dataHeatmap, layout_heatmap);
        }
        function getData() {
            var color = d3.scaleOrdinal(d3.schemeCategory10);

            var mapd_heatmap = {
                y: [17.188,0.560,0.566,0.571,0.572,0.560,0.588,0.565,0.539,0.546,0.583,0.603,0.556,0.580,0.596,0.583,0.560,0.587,0.577,0.600,0.556,0.540,0.585,0.563,0.586,0.529,0.539,0.564,0.592,0.570,0.605,0.540,0.576],
                type: 'box',
                name: 'MapD',
                marker: { color: color(0) }
            };

            var mysql_heatmap = {
                y: [34.846,4.92,4.156,4.135,4.249,4.213,4.291,4.152,4.88,4.213,4.179,4.151,4.213,4.118,4.348,4.67,4.374,4.175,4.134,4.748,4.74,4.176,4.217,4.176,4.156,4.146,4.219,5.257,4.184,4.219,4.216,4.177,4.187],
                type: 'box',
                name: 'MySQL',
                marker: { color: color(1) }
            }

            var mongo_heatmap = {
                y: [6.220,7.36,7.151,8.696,7.891,6.1,11.146,9.801,8.713,5.555,5.747,6.803,15.727,9.210,7.738,19.794,32.242,23.747,6.109,7.634,6.102,8.235,6.258,7.472,7.708,8.389,14.712,19.900,7.866,8.602,12.6,15.431,12.96],
                type: 'box',
                name: 'MongoDB',
                marker: { color: color(2) }
            }

            return [mapd_heatmap, mysql_heatmap, mongo_heatmap];
        }
        var data = getData();
        setLayout(data);
    </script>
</body>

</html>